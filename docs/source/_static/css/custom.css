/* Table styles with only outer border and rounded corners */
table {
    border-spacing: 0;
    border: 1px solid var(--pst-color-border) !important;
    border-radius: 3px;
    border-collapse: separate;
    overflow: hidden;
    /* Ensures the border-radius is respected */
}

/* Table header and body styles without individual borders */
table th,
table td {
    border-right: 1px solid var(--pst-color-border);
    ;
    border-bottom: 1px solid var(--pst-color-border);
    ;
    padding: 0.5em;
    /* Optional: for padding within cells */
}

/* Remove right border from the last cell in the header and body */
table th:last-child,
table td:last-child {
    border-right: none;
}

/* Remove bottom border from the last row in the table body */
table tr:last-child td {
    border-bottom: none;
}

table thead th {
    background-color: var(--pst-color-surface) !important;
}

/* Mermaid diagram dark mode improvements */
.mermaid {
    background-color: var(--pst-color-surface, #ffffff) !important;
    border: 1px solid var(--pst-color-border, #cccccc);
    border-radius: 8px;
    padding: 20px;
    margin: 1rem 0;
}

/* Dark mode specific adjustments */
[data-theme="dark"] .mermaid,
html[data-theme="dark"] .mermaid {
    background-color: #2d3748 !important;
    border-color: #4a5568 !important;
}

/* Ensure mermaid text is visible in dark mode */
[data-theme="dark"] .mermaid .node rect,
[data-theme="dark"] .mermaid .node circle,
[data-theme="dark"] .mermaid .node ellipse,
[data-theme="dark"] .mermaid .node polygon {
    stroke: #e2e8f0 !important;
}

[data-theme="dark"] .mermaid .node .label,
[data-theme="dark"] .mermaid .edgeLabel {
    color: #ffffff !important;
    fill: #ffffff !important;
}

[data-theme="dark"] .mermaid .edgePath .path {
    stroke: #e2e8f0 !important;
}

/* Specific styling for edge labels */
[data-theme="dark"] .mermaid .edgeLabel .label-container {
    background-color: #2d3748 !important;
}

[data-theme="dark"] .mermaid .edgeLabel foreignObject {
    color: #ffffff !important;
}

[data-theme="dark"] .mermaid .edgeLabel span {
    color: #ffffff !important;
    background-color: rgba(45, 55, 72, 0.9) !important;
    padding: 2px 4px !important;
    border-radius: 3px !important;
}